<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title></title>
    <script src="js/mui.min.js"></script>
    <link href="css/mui.min.css" rel="stylesheet"/>
    <script type="text/javascript" charset="utf-8">
      	mui.init();
      	mui.plusReady(function(){
      		// 获取界面中的元素 
      		var nickname = document.getElementById("nickname");
      		var roomid = document.getElementById("roomid");
      		var enter = document.getElementById("enter");
      		
      		// 点击进入房间按钮的事件处理
      		enter.addEventListener('tap', function(){
      			// 首先进行两个判空的操作，以确保数据的传递
      			if(nickname.value.length == 0){
      				plus.nativeUI.toast("昵称不可为空！");
      				return ;
      			}
      			
      			if(roomid.value.length == 0){
      				plus.nativeUI.toast("房间号不可为空！");
      				return ;
      			}
      			
      			// 将得到的信息进行存储
      			localStorage.nickname = nickname.value;
      			localStorage.roomid = roomid.value;
      			
      			// 点击按钮，实现页面的跳转
      			mui.openWindow({
      				url : "chat.html",
      				id : "chat"
      			});
      			
      		});
      		
      	});
    </script>

	<style type="text/css">
		.mui-content{
			margin-top: 12px;
		}
	</style>
</head>
<body>
	<header class="mui-bar mui-bar-nav">
	    <h1 class="mui-title">聊天室</h1>
	</header>
	
	<div class="mui-content">
	    <form class="mui-input-group">
	        <div class="mui-input-row">
	            <label>昵称</label>
	            <input type="text" class="mui-input-clear" placeholder="请输入昵称" id="nickname">
	        </div>
	        <div class="mui-input-row">
	            <label>房间号</label>
	            <input type="text" class="mui-input-clear" placeholder="请输入房间号" id="roomid">
	        </div>
	    </form>
	    
	    <div class="mui-content-padded" align="center">
	    	<button type="button" class="mui-btn mui-btn-block mui-btn-blue" id="enter">进入房间</button>
	    </div>
	</div>
</body>
</html>